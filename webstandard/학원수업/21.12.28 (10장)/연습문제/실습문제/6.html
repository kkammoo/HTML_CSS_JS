<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      #clock {
        display: inline-block;
        width: 7em;
        border: 1px solid gray;
        color: lightgray;
        background-color: aliceblue;
      }

      #clock.on {
        color: black;
        background-color: aliceblue;
      }
    </style>
  </head>
  <body>
    <h3>div 태그에 시계 만들기</h3>
    <p>시계를 클릭하면 시계가 멈추고, 다시 클릭하면 가기 시작한다.</p>
    <hr />
    <div id="clock" class="on"></div>
    <script>
      let timer = window.setInterval(handler, 1000);
      const $clock = document.getElementById('clock');

      $clock.addEventListener(
        'click',
        (evt) => {
          // clock stop
          if (timer != null) {
            window.clearInterval(timer);
            timer = null;
            $clock.classList.toggle('on');
            // clock start
          } else {
            timer = window.setInterval(handler, 1000);
            handler();
            $clock.classList.toggle('on');
          }
        },
        false
      );

      // 타이머 제거
      // function cancelClock(evt) {
      //   window.clearInterval(timer);
      // }

      function handler() {
        const currTime = getTime();
        $clock.textContent = currTime;
      }

      // 현재시간 반환
      function getTime() {
        const today = new Date();
        const timeStr = today.toLocaleString();
        const time = timeStr.substr(timeStr.indexOf('오'));
        return time;
      }
    </script>
  </body>
</html>
